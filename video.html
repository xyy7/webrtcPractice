<!DOCTYPE html>
<html>

<body>
    <video id="local-video" autoplay playsinline></video>
    <button id="showVideo">打开摄像头</button>
    <p>通过getUserMedia()获取视频</p>
</body>

<script>
    const constraints = { audio: false, video: true };
    //处理打开摄像头成功
    function handleSuccess(stream) {
        const video = document.querySelector("#local-video");
        video.srcObject = stream;
    }
    // 异常处理
    function handleError(error) {
        console.error("getUserMedia error: " + error);
    }
    function onOpenCamera(e) {
        navigator.mediaDevices.getUserMedia(constraints).then(handleSuccess).catch(handleError);
    }

    document.querySelector("#showVideo").addEventListener("click", onOpenCamera);
</script>

</html>